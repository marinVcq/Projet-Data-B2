{"ast":null,"code":"import _regeneratorRuntime from\"C:/Github/Fortunato/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Github/Fortunato/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Github/Fortunato/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{createContext,useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useState=useState(JSON.parse(localStorage.getItem(\"user\"))||null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(inputs){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/auth/login\",inputs);case 2:res=_context.sent;setCurrentUser(res.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function login(_x){return _ref2.apply(this,arguments);};}();var logout=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(inputs){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"/auth/logout\");case 2:setCurrentUser(null);case 3:case\"end\":return _context2.stop();}},_callee2);}));return function logout(_x2){return _ref3.apply(this,arguments);};}();useEffect(function(){localStorage.setItem(\"user\",JSON.stringify(currentUser));},[currentUser]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{currentUser:currentUser,login:login,logout:logout},children:children});};","map":{"version":3,"names":["axios","createContext","useEffect","useState","jsx","_jsx","AuthContext","AuthContextProvider","_ref","children","_useState","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","currentUser","setCurrentUser","login","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","inputs","res","wrap","_callee$","_context","prev","next","post","sent","data","stop","_x","apply","arguments","logout","_ref3","_callee2","_callee2$","_context2","_x2","setItem","stringify","Provider","value"],"sources":["C:/Github/Fortunato/client/src/context/authContext.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { createContext, useEffect, useState } from \"react\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(\r\n    JSON.parse(localStorage.getItem(\"user\")) || null\r\n  );\r\n\r\n  const login = async (inputs) => {\r\n    const res = await axios.post(\"/auth/login\", inputs);\r\n    setCurrentUser(res.data);\r\n  };\r\n\r\n  const logout = async (inputs) => {\r\n    await axios.post(\"/auth/logout\");\r\n    setCurrentUser(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(currentUser));\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ currentUser, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};"],"mappings":"gWAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3D,MAAO,IAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAE1C,MAAO,IAAM,CAAAM,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC5C,IAAAC,SAAA,CAAsCP,QAAQ,CAC5CQ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAI,IAC9C,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAN,SAAA,IAFMO,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAIlC,GAAM,CAAAI,KAAK,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,MAAAC,GAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACP,CAAA/B,KAAK,CAACgC,IAAI,CAAC,aAAa,CAAEP,MAAM,CAAC,QAA7CC,GAAG,CAAAG,QAAA,CAAAI,IAAA,CACTf,cAAc,CAACQ,GAAG,CAACQ,IAAI,CAAC,CAAC,wBAAAL,QAAA,CAAAM,IAAA,MAAAX,OAAA,GAC1B,kBAHK,CAAAL,KAAKA,CAAAiB,EAAA,SAAAhB,KAAA,CAAAiB,KAAA,MAAAC,SAAA,OAGV,CAED,GAAM,CAAAC,MAAM,6BAAAC,KAAA,CAAAnB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAkB,SAAOhB,MAAM,SAAAH,mBAAA,GAAAK,IAAA,UAAAe,UAAAC,SAAA,iBAAAA,SAAA,CAAAb,IAAA,CAAAa,SAAA,CAAAZ,IAAA,SAAAY,SAAA,CAAAZ,IAAA,SACpB,CAAA/B,KAAK,CAACgC,IAAI,CAAC,cAAc,CAAC,QAChCd,cAAc,CAAC,IAAI,CAAC,CAAC,wBAAAyB,SAAA,CAAAR,IAAA,MAAAM,QAAA,GACtB,kBAHK,CAAAF,MAAMA,CAAAK,GAAA,SAAAJ,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAGX,CAEDpC,SAAS,CAAC,UAAM,CACdW,YAAY,CAACgC,OAAO,CAAC,MAAM,CAAElC,IAAI,CAACmC,SAAS,CAAC7B,WAAW,CAAC,CAAC,CAC3D,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAEjB,mBACEZ,IAAA,CAACC,WAAW,CAACyC,QAAQ,EAACC,KAAK,CAAE,CAAE/B,WAAW,CAAXA,WAAW,CAAEE,KAAK,CAALA,KAAK,CAAEoB,MAAM,CAANA,MAAO,CAAE,CAAA9B,QAAA,CACzDA,QAAQ,CACW,CAAC,CAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}